<!DOCTYPE html>
<html>
<meta charset="UTF-8">
    
    <head>
        
        <title>SacredHunger</title>

        <!-- TODO: Pending refactoring in the future. Bad coding style. 
                    I'm just keeping things running -->

        <!--       
            switching to emailJS. 
            https://www.jsdelivr.com/package/npm/@emailjs/browser
        -->
        
        <link rel="stylesheet" href="../Styles/Styles.css" />

        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>

        <script type="text/javascript">
            (function() {
                // https://dashboard.emailjs.com/admin/account
                emailjs.init({
                publicKey: "nSCrkcykp_570qX2u",
                });
            })();
        </script>

        <script type="text/javascript">
            window.onload = function() {

                const dialResponse = document.getElementById("dialResponse");
                const dialResponseCloseButton = document.getElementById("dialResponseClose");
                dialResponseCloseButton.addEventListener('click', () => {
                    dialResponse.close();
                });

                const dialFailedResponse = document.getElementById("dialFailedResponse");
                const dialFailedResponseCloseButton = document.getElementById("dialFailedResponseClose");
                dialFailedResponseCloseButton.addEventListener('click', () => {
                    dialFailedResponse.close();
                });


                document.getElementById('template_0eu1rod').addEventListener('submit', function(event) {

                    document.getElementById("loadingText").innerHTML = `Connecting...`;
                    
                    event.preventDefault();
                    // service id, template id, {parameter}
                    emailjs.send("service_qrqokpr","template_0eu1rod",{
                        end: "SPIN",
                    }).then(() => {
                            // console.log('SUCCESS!');
                            document.getElementById("loadingText").innerHTML = ``;
                            dialResponse.showModal();
                        }, (error) => {
                            // console.log('FAILED...', error);
                            document.getElementById("loadingText").innerHTML = ``;
                            dialFailedResponse.showModal();
                        });
                    
                });
            }
        </script>
        
    </head>


    <body>

        
        <p> 21748# </p>

        <p> Thank you for calling Multi-line message, goodbye. </p>

        <p></p>

        <form id="template_0eu1rod">
            <input type="submit" value="END">
        </form>

        <br></br>

        <div id="loadingText"></div>


        <dialog id="dialResponse">
            
            <p>▲</p>
            <p>01:2097152- BD</p>
            <p>"Hawser" 21748</p>
            <p>SPIN</p>
            <p>10:00AM 25/08/25</p>

            <br></br>

            <button id="dialResponseClose">✕</button>

        </dialog>


        <dialog id="dialFailedResponse">
            
            <p>▲</p>
            <p>Warp distortion...</p>

            <br></br>

            <button id="dialFailedResponseClose">✕</button>

        </dialog>

        
    </body>

</html>
